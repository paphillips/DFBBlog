---
layout:        default
title:         Datapath threshold flag jump
categories:    [Examples - jump conditions]
image:         /assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-thumb.png
summary:       Example of using datapath threshold flag to branch (asserted when the ALU detects a sign change). Stage_A input results in several sign changes as output goes from positive to negative and back
author:        Paul Phillips
level:	       basic
---
<div id="contentcontainer">
  <h1>Datapath threshold flag jump</h1>
  <p>Example of using datapath threshold flag to branch (asserted when the ALU detects a sign change). Stage_A input results in several sign changes as output goes from positive to negative and back</p>
  <a href="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh.dfbproj" class="btn btn-success btn-lg active" role="button">Download this project</a>
  <h2>Program Listing </h2>
  <pre id="code" class="language-asmcypressdfb line-numbers show">
    <code>// [title] Datapath threshold flag jump
// [brief] Example of using datapath threshold flag to branch (asserted when the ALU detects a sign change). Stage_A input results in several sign changes as output goes from positive to negative and back
// [categories] Examples - jump conditions

init:
    // ----------------------------------------
    // Load the next Stage_A value and subtract
    // [SUBTRACTION_VAL_1] in DataRam_A from it
    // ----------------------------------------

    // Initialize
    // [acu]    Ensure we are positioned on [SUBTRACTION_VAL_1] at 0x00
    acu(clear, clear) dmux(sa, sa) alu(hold) mac(hold)
        
    // [dmux].a     Set up to read bus Stage_A to ALU
    // [dmux].b     Set up to read [SUBTRACTION_VAL_1] from DataRam_A to ALU
    // [alu]        Set up to subtract b from a with threshold detection
    acu(hold, hold) addr(1) dmux(ba, sra) alu(tsubb) mac(hold)

    // Pipeline delay
    // [alu]        Data values are loaded off the datapath
    acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold)

     // Conditional jump: Is dpthresh asserted?
    //              [true]  Jump to [sign_changed]
    //              [false] Fall through to [sign_did_not_change]
    // [alu]        ALU output is put on the datapath
    acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(dpthresh, sign_changed)

sign_did_not_change:
    // --------------------------------------------------
    // This branch is entered when [alu].a - [alu].b &gt;= 0
    // --------------------------------------------------

    // Unconditional jump: return to [init]
    acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(eob, init)

sign_changed:
    // --------------------------------------------------
    // This branch is entered when [alu].a - [alu].b &lt; 0
    // --------------------------------------------------

    // Unconditional jump: return to [init]
    acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(eob, init)

area data_b
org 0
dw 0x000004    // [SUBTRACTION_VAL_1]
</code>
  </pre>
  <p style="page-break-after: always;" />
  <h2>State Diagrams</h2>
  <figure class="figure figure-xl">
    <div id="carousel" class="carousel slide" data-interval="false">
      <ol class="carousel-indicators carousel-indicators-numbers">
        <li data-target="#carousel" data-slide-to="0" class="active">0</li>
        <li data-target="#carousel" data-slide-to="1">1</li>
        <li data-target="#carousel" data-slide-to="2">2</li>
        <li data-target="#carousel" data-slide-to="3">3</li>
        <li data-target="#carousel" data-slide-to="4">4</li>
        <li data-target="#carousel" data-slide-to="5">5</li>
        <li data-target="#carousel" data-slide-to="6">6</li>
        <li data-target="#carousel" data-slide-to="7">7</li>
        <li data-target="#carousel" data-slide-to="8">8</li>
        <li data-target="#carousel" data-slide-to="9">9</li>
        <li data-target="#carousel" data-slide-to="10">10</li>
        <li data-target="#carousel" data-slide-to="11">11</li>
        <li data-target="#carousel" data-slide-to="12">12</li>
        <li data-target="#carousel" data-slide-to="13">13</li>
        <li data-target="#carousel" data-slide-to="14">14</li>
        <li data-target="#carousel" data-slide-to="15">15</li>
        <li data-target="#carousel" data-slide-to="16">16</li>
        <li data-target="#carousel" data-slide-to="17">17</li>
        <li data-target="#carousel" data-slide-to="18">18</li>
        <li data-target="#carousel" data-slide-to="19">19</li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle0.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 0</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="13">
                <code>acu(clear, clear) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle1.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 1</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="18">
                <code>acu(hold, hold) addr(1) dmux(ba, sra) alu(tsubb) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">addr</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">1</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>In 1 (Stage A) selected for read</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">ba</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Bus to ALU. </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read bus Stage_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">sra</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to RAM, RAM to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read [SUBTRACTION_VAL_1] from DataRam_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">tsubb</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Puts A – B on the ALU output, sets threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to subtract b from a with threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle2.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 2</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="22">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Data values are loaded off the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle3.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 3</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="28">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(dpthresh, sign_changed)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> ALU output is put on the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">dpthresh</span>
                      <span> Datapath Threshold. Asserted when the ALU detects a sign change. The ALU asserts dpthresh only when the program uses ALU threshold detection operands (tsuba, tsubb, taddabsa, …).</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td>
                      <span class="badge badge-dark">Conditions not met (false):</span>
                      <span> go to sign_did_not_change</span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-dark">Conditions met (true):</span>
                      <span> go to sign_changed</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle4.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 4</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> sign_did_not_change</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="36">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(eob, init)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">eob</span>
                      <span> End Of Block. A condition for a jump, which is always met because a jump instruction signifies the end of the block.</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td>
                      <span class="badge badge-dark">Conditions not met (false):</span>
                      <span> go to sign_changed</span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-dark">Conditions met (true):</span>
                      <span> go to init</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle5.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 5</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="13">
                <code>acu(clear, clear) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle6.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 6</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="18">
                <code>acu(hold, hold) addr(1) dmux(ba, sra) alu(tsubb) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">addr</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">1</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>In 1 (Stage A) selected for read</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">ba</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Bus to ALU. </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read bus Stage_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">sra</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to RAM, RAM to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read [SUBTRACTION_VAL_1] from DataRam_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">tsubb</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Puts A – B on the ALU output, sets threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to subtract b from a with threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle7.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 7</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="22">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Data values are loaded off the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle8.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 8</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="28">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(dpthresh, sign_changed)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> ALU output is put on the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">dpthresh</span>
                      <span> Datapath Threshold. Asserted when the ALU detects a sign change. The ALU asserts dpthresh only when the program uses ALU threshold detection operands (tsuba, tsubb, taddabsa, …).</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td>
                      <span class="badge badge-dark">Conditions not met (false):</span>
                      <span> go to sign_did_not_change</span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-dark">Conditions met (true):</span>
                      <span> go to sign_changed</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle9.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 9</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> sign_changed</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="44">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(eob, init)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">eob</span>
                      <span> End Of Block. A condition for a jump, which is always met because a jump instruction signifies the end of the block.</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">Always:</span>
                      <span> go to init</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle10.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 10</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="13">
                <code>acu(clear, clear) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle11.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 11</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="18">
                <code>acu(hold, hold) addr(1) dmux(ba, sra) alu(tsubb) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">addr</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">1</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>In 1 (Stage A) selected for read</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">ba</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Bus to ALU. </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read bus Stage_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">sra</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to RAM, RAM to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read [SUBTRACTION_VAL_1] from DataRam_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">tsubb</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Puts A – B on the ALU output, sets threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to subtract b from a with threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle12.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 12</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="22">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Data values are loaded off the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle13.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 13</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="28">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(dpthresh, sign_changed)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> ALU output is put on the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">dpthresh</span>
                      <span> Datapath Threshold. Asserted when the ALU detects a sign change. The ALU asserts dpthresh only when the program uses ALU threshold detection operands (tsuba, tsubb, taddabsa, …).</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td>
                      <span class="badge badge-dark">Conditions not met (false):</span>
                      <span> go to sign_did_not_change</span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-dark">Conditions met (true):</span>
                      <span> go to sign_changed</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle14.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 14</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> sign_changed</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="44">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(eob, init)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">eob</span>
                      <span> End Of Block. A condition for a jump, which is always met because a jump instruction signifies the end of the block.</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">Always:</span>
                      <span> go to init</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle15.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 15</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="13">
                <code>acu(clear, clear) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">clear</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Sets reg to 0, put 0 on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle16.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 16</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="18">
                <code>acu(hold, hold) addr(1) dmux(ba, sra) alu(tsubb) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">addr</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">1</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>In 1 (Stage A) selected for read</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">ba</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Bus to ALU. </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read bus Stage_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-secondary">sra</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to RAM, RAM to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to read [SUBTRACTION_VAL_1] from DataRam_A to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">tsubb</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Puts A – B on the ALU output, sets threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Set up to subtract b from a with threshold detection</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle17.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 17</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="22">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> Data values are loaded off the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle18.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 18</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> init</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="28">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(dpthresh, sign_changed)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td rowspan="2" />
                    <td rowspan="2">
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td rowspan="2">
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-success">User comment</span> ALU output is put on the datapath</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">dpthresh</span>
                      <span> Datapath Threshold. Asserted when the ALU detects a sign change. The ALU asserts dpthresh only when the program uses ALU threshold detection operands (tsuba, tsubb, taddabsa, …).</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td>
                      <span class="badge badge-dark">Conditions not met (false):</span>
                      <span> go to sign_did_not_change</span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-dark">Conditions met (true):</span>
                      <span> go to sign_changed</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="carousel-item" style="margin-top: 50px;">
          <div class="h-100">
            <object class="diagram-examples" type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-StateDiag-Cycle19.svg">Diagram can't be displayed: your browser does not support SVG</object>
          </div>
          <h3>Instruction for Cycle 19</h3>
          <hr />
          <p>
            <span class="badge badge-warning">Under label:</span> sign_did_not_change</p>
          <div>
            <div>
              <pre class="language-asmcypressdfb line-numbers" data-start="36">
                <code>acu(hold, hold) dmux(sa, sa) alu(hold) mac(hold) jmp(eob, init)</code>
              </pre>
            </div>
            <div>
              <table class="table table-sm table-hover dfb">
                <thead>
                  <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Bank</th>
                    <th scope="col">Instr</th>
                    <th scope="col">Delay</th>
                    <th scope="col">Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">acu</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">hold</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Puts reg on the output</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">A</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">dmux</span>
                    </td>
                    <td>
                      <span class="badge badge-primary">B</span>
                    </td>
                    <td>
                      <span class="badge badge-secondary">sa</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">1</span>
                    </td>
                    <td>Shifter to ALU</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">alu</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdalu</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the ALU output from the previous cycle.</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">mac</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">holdmac</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">2</span>
                    </td>
                    <td>Holds the accumulator, no multiply (no power in mult)</td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-primary">jmp</span>
                    </td>
                    <td />
                    <td>
                      <span class="badge badge-secondary">jmp</span>
                    </td>
                    <td>
                      <span class="badge badge-danger">0</span>
                    </td>
                    <td>Similar to goto. Conditions are true: jump to the target routine. Conditions are false: fall through to next state numerically.</td>
                  </tr>
                  <tr>
                    <td rowspan="1">
                      <span class="badge badge-primary">Jump Conditions</span>
                    </td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td rowspan="1"></td>
                    <td>
                      <span class="badge badge-dark">eob</span>
                      <span> End Of Block. A condition for a jump, which is always met because a jump instruction signifies the end of the block.</span>
                    </td>
                  </tr>
                  <tr>
                    <td rowspan="2">
                      <span class="badge badge-primary">Jump Branching</span>
                    </td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td rowspan="2"></td>
                    <td>
                      <span class="badge badge-dark">Conditions not met (false):</span>
                      <span> go to sign_changed</span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <span class="badge badge-dark">Conditions met (true):</span>
                      <span> go to init</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" />
      </a>
      <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" />
      </a>
    </div>
  </figure>
  <p style="page-break-after: always;" />
  <h2>Jump Diagram</h2>
  <figure class="figure">
    <object type="image/svg+xml" data="/assets/posts/2018-03-07-jump_dpthresh/2018-03-07-jump_dpthresh-JumpDiagram.svg">Your browser does not support SVG</object>
    <figcaption class="figure-caption">Call Diagram for this program from the DFB Assembler Mini IDE</figcaption>
  </figure>
</div>